var showCommentId = 'comment-' + <%= @task_comment.id %>;
var showComment = document.getElementById(showCommentId);

if (showComment) {
  showComment.outerHTML = "<%= j render('shared/comment.html', object: @task, comment: @task_comment) %>";
} else {
  let container = document.querySelector('.comments');
  let newComment = document.getElementById('new_comment');

  if (newComment) {
    newComment.outerHTML = "<%= j render('shared/comment.html', object: @task, comment: @task_comment) %>";
  }
  if (container) {
    container.innerHTML += "<%= j render('shared/new_comment.html', object: @task, comment: new_task_comment(@task)) %>";
  }
}

initCommentForms();
