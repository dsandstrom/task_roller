<%= user_header @user %>

<div class="columns">
  <div class="first-column">
    <h2>
      Edit
        <% if @user == current_user %>
          Profile
        <% elsif @user.employee_type.blank? %>
          User
        <% else %>
          <%= @user.employee_type %>
        <% end %>
    </h2>

    <%= render 'form', user: @user %>
  </div>
  <div class="second-column">
    <%- if current_user.id == @user.id %>
      <%- if respond_to?(:edit_user_registration_path) %>
        <div class="devise-links">
          <h3>Advanced</h3>
          <%= content_tag :p, link_to('Change your password',
                                      edit_user_registration_path) %>
        </div>
      <% end %>
    <% elsif can?(:cancel, @user) %>
      <%
        confirm = "Are you sure you want to cancel the account "\
                  "for #{@user.name_or_email}?"
      %>

      <div class="devise-links">
        <h3>Advanced</h3>
        <p>
          <%= link_to 'Cancel Account',
                      cancel_user_path(@user),
                      method: :patch,
                      data: { confirm: confirm },
                      class: 'button button-outline button-warning' %>
        </p>
      </div>
    <% end %>
  </div>
</div>

<p><%= link_to 'Back', :back %></p>
