<%
  category ||= category_tasks_subscription.category
  return unless category
%>

<% if category_tasks_subscription.persisted? %>
  <% return unless can?(:destroy, category_tasks_subscription) %>

  <%= link_to ' Tasks',
              category_tasks_subscription_path(category, category_tasks_subscription),
              method: :delete,
              class: 'button button-success button-unsubscribe' %>
<% elsif can?(:create, category_tasks_subscription) %>
  <%= link_to 'Subscribe to Tasks',
              category_tasks_subscriptions_path(category),
              method: :post, class: 'button button-outline' %>
<% end %>
